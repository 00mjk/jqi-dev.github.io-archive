(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{359:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=function(e){return e&&e.__esModule?e:{default:e}}(n(2)),a=n(362);var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,r.default.Component),o(t,[{key:"render",value:function(){var e=this;return r.default.createElement(a.AtlasContext.Consumer,null,function(t){return"entry"==t?r.default.createElement("div",{className:"w-40-l w-100 fr-l pl3-l pr0-l"},r.default.createElement("div",{className:"w-90-l w-100 mw7 center f7 fr-l sans-serif gray lh-copy pa3 ba b--moon-gray bg-light-gray mb3"},e.props.text)):r.default.createElement("div",{className:"w-100 mw7 center f6 fr-l sans-serif gray lh-copy br bl bb bt b--moon-gray bg-light-gray pa3"},e.props.text)})}}]),t}();t.default=i},362:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AtlasContext=void 0;var o=function(e){return e&&e.__esModule?e:{default:e}}(n(2));t.AtlasContext=o.default.createContext("standalone")},376:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(t,n,o){return n&&e(t.prototype,n),o&&e(t,o),t}}(),r=m(['\n  font-family: -apple-system, BlinkMacSystemFont, "avenir next", avenir, "helvetica neue", helvetica, ubuntu, roboto, noto, "segoe ui", arial, sans-serif;\n  background-color: rgba(250, 250, 250, 0.75);\n  margin: 0 0rem;\n\n  // canvas {\n    // outline: 1px solid #cccccc;\n  // }\n'],['\n  font-family: -apple-system, BlinkMacSystemFont, "avenir next", avenir, "helvetica neue", helvetica, ubuntu, roboto, noto, "segoe ui", arial, sans-serif;\n  background-color: rgba(250, 250, 250, 0.75);\n  margin: 0 0rem;\n\n  // canvas {\n    // outline: 1px solid #cccccc;\n  // }\n']),a=m(["\n  max-width: 1200px;\n  width: 100%;\n  margin: 0px auto;\n  position: relative;\n"],["\n  max-width: 1200px;\n  width: 100%;\n  margin: 0px auto;\n  position: relative;\n"]),i=m(["\n  max-width: 1200px;\n  width: 100%;\n  margin: 0px auto;\n  position: relative;\n  border-top: 2px solid #ffffff;\n  top: -4px;\n"],["\n  max-width: 1200px;\n  width: 100%;\n  margin: 0px auto;\n  position: relative;\n  border-top: 2px solid #ffffff;\n  top: -4px;\n"]),l=m(["\n  color: #eaeaea;\n  font-size: 2vw;\n  margin: 0;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-right: -50%;\n  transform: translate(-50%, -50%);\n  transition: opacity 1s;\n  pointer-events: none;\n"],["\n  color: #eaeaea;\n  font-size: 2vw;\n  margin: 0;\n  position: absolute;\n  top: 50%;\n  left: 50%;\n  margin-right: -50%;\n  transform: translate(-50%, -50%);\n  transition: opacity 1s;\n  pointer-events: none;\n"]),c=m(["\n  width: 100%;\n  opacity: 0;\n  transition: opacity 1s;\n  position: absolute;\n  pointer-events: none;\n"],["\n  width: 100%;\n  opacity: 0;\n  transition: opacity 1s;\n  position: absolute;\n  pointer-events: none;\n"]),s=v(n(2)),u=v(n(365)),f=v(n(572)),p=v(n(571)),d=v(n(359));function v(e){return e&&e.__esModule?e:{default:e}}function m(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var y=u.default.div(r),h=u.default.div(a),w=u.default.div(i),g=u.default.div(l),b=u.default.img(c),x=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.caption="When you click or tap to create a wave, it travels outward from a central point. When two waves overlap, they interfere and yield brighter or darker spots than any single wave.",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,s.default.Component),o(t,[{key:"componentDidMount",value:function(){(0,p.default)()}},{key:"shouldComponentUpdate",value:function(){return!1}},{key:"render",value:function(){return s.default.createElement(y,null,s.default.createElement(h,{id:"container"},s.default.createElement(b,{src:f.default,id:"overlay"}),s.default.createElement(g,{id:"message"},"Tap to make ripples!")),s.default.createElement(w,{id:"cross-section"}),s.default.createElement(d.default,{text:this.caption}))}}]),t}();t.default=x},571:function(e,t,n){"use strict";var o,r,a,i,l,c,s,u,f,p=n(420),d=[],v=0,m=300,y=["uniform float amplitude;","varying vec2 vUv;","uniform int activeWaves;","uniform vec4 waves [ 16 ];","attribute float displacement;","varying float distance;","varying vec3 vNormal;","void main() {","vUv = uv;","vNormal = normal;","distance = displacement * 0.5 + 0.5;","for (int i=0; i < 16; i++) {","float vx = pow((waves[i][0]-position[0]), 2.0);","float vy = pow((waves[i][1]-position[1]), 2.0);","float hyp = sqrt(vx + vy);","float amp = waves[i][3] * 0.5;","float edge = 300.0 - waves[i][2];","float width = 64.0;","if ((hyp < edge) && ((edge - hyp) < width)) {","float disp = (1.0 - (edge - hyp)/width) * amp * sin(hyp - edge);","distance = distance + disp;","}","else { distance = distance + 0.0; }","}","vec3 newPosition = position + amplitude * normal * vec3( 1.0 );","gl_Position = projectionMatrix * modelViewMatrix * vec4( newPosition, 1.0 );","}"].join("\n"),h=["varying vec3 vNormal;","varying float distance;","varying vec2 vUv;","uniform vec3 color;","void main() {","gl_FragColor = vec4(vec3(color) + vec3(distance * 0.5, distance * 0.25, distance), distance * 0.5 + 0.25);","}"].join("\n"),w=["uniform sampler2D bufferTexture;","varying vec2 vUv;","uniform vec2 size;","void main() {","float lineWidth = 3.0;","float position_x = gl_FragCoord.x / size[0];","vec2 position = vec2(position_x, 0.5);","vec4 color = texture2D(bufferTexture, position);","float color_value = color.w * size[1];","float min = color_value + 0.25;","float max = color_value + 0.75 + lineWidth;","if(gl_FragCoord.y > min && gl_FragCoord.y < max) {","gl_FragColor = vec4(1.0,1.0,1.0,1.0); // white","}","else{","gl_FragColor = vec4(0.07, 0.51, 0.85, 1.0); // blue","}","}"].join("\n");function g(e){d[e-2]=0,d[e-1]=0,d[e+1]=0,v-=1}function b(){a.render(u,r,f),a.render(o,r),i.render(u,r,f),i.render(s,r),function(){for(var e=0;e<v;e+=1){var t=4*e+2;0!=d[t]?d[t]-=.4:g(t)}}(),requestAnimationFrame(b)}function x(){return $("#container").outerWidth()}function _(){return x()/3+x()/8+$("canvas ").top+5}function j(){r.updateProjectionMatrix(),c.material.uniforms.size.value=new p.Vector2(x(),x()/8),a.setSize(x(),x()/3),i.setSize(x(),x()/8),document.body.style.height=_()}e.exports=function(){!function(){var e=x(),t=e/3,n=e/8;d=new Float32Array(64),v=0,(a=new p.WebGLRenderer({antialias:!0})).setSize(e,t),$("#container").append(a.domElement),(i=new p.WebGLRenderer({antialias:!0})).setSize(e,n),$("#cross-section").append(i.domElement),(o=new p.Scene).background=new p.Color(888006),s=new p.Scene,u=new p.Scene,(r=new p.OrthographicCamera(e/-2,e/2,e/6,e/-6,-1e4,1e4)).zoom=e/m,r.updateProjectionMatrix();var g={minFilter:p.LinearFilter,stencilBuffer:!1,depthBuffer:!1};f=new p.WebGLRenderTarget(e,t,g);var _=p.UniformsUtils.merge([{activeWaves:{type:"i",value:1}},{waves:{type:"fv",value:d}},{color:{value:new p.Color(44284)}}]),O=new p.ShaderMaterial({uniforms:_,vertexShader:y,fragmentShader:h});O.transparent=!0;var M=new p.PlaneBufferGeometry(m,m/3,m,m/3),P=new p.Mesh(M,O);u.add(P);var C=new p.MeshPhongMaterial({map:f}),E=new p.PlaneGeometry(m,m/3,4),k=new p.Mesh(E,C);o.add(k);var S={bufferTexture:{type:"t",value:f},size:{type:"v2",value:new p.Vector2(x(),x()/8)}};l=new p.ShaderMaterial({uniforms:S,vertexShader:y,fragmentShader:w}),c=new p.Mesh(E,l),s.add(c);var z=new p.AmbientLight(4629721,2);o.add(z);var F=new p.DirectionalLight(16777215,5);o.add(F),$(window).on("resize",j),$(a.domElement).click(function(e){var t=$(this).offset().left+$(this).width()/2,n=$(this).offset().top+$(this).height()/2;!function(e,t){$("#message").css("opacity","0.0"),$("#overlay").css("opacity","1.0");var n=$("#container").outerWidth()/m;!function(e){d.set(e,v%16*4),v+=1}([e/n,-t/n,m,1])}(e.pageX-t,e.pageY-n)}),b()}(),document.body.style.height=_()}},572:function(e,t,n){e.exports=n.p+"f86ef32e19545e2e248ec2552cb7363a.svg"}}]);