(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{360:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=a(n(2)),i=n(362);a(n(359));function a(e){return e&&e.__esModule?e:{default:e}}var u=n(365)(),s=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.standalone=function(){return o.default.createElement("div",{className:"w-100 mw7 center f6 fr-l sans-serif gray lh-copy br bl bb bt b--moon-gray bg-light-gray pa3",dangerouslySetInnerHTML:{__html:n.caption}})},n.banner=function(){return o.default.createElement("div",{className:"w-40-l w-100 fr-l pl3-l pr0-l"},o.default.createElement("div",{className:"w-90-l w-100 mw7 center f7 fr-l sans-serif gray lh-copy pa3 ba b--moon-gray bg-light-gray mb3",dangerouslySetInnerHTML:{__html:n.caption}}))},n.inline=function(){return o.default.createElement("div",{className:"f6 tc sans-serif lh-copy",dangerouslySetInnerHTML:{__html:n.caption}})},n.rightCaption=function(){return o.default.createElement("div",{className:"w-40-l w-100"},o.default.createElement("div",{className:"w-90 pl4-l f7 fr-l center sans-serif gray lh-copy mw5 mw9-l",dangerouslySetInnerHTML:{__html:n.caption}}))},n.rightColumnUnder=function(){return o.default.createElement("div",{className:"center pl2 pr2 w-100 mw5 mw9-l"},o.default.createElement("div",{className:"f7 sans-serif lh-copy gray w-100",dangerouslySetInnerHTML:{__html:n.caption}}))},n.entry=function(){return n.props.captionRight?n.rightCaption():n.props.inline?n.inline():n.props.rightColumn?n.rightColumnUnder():n.banner()},n.caption=u.renderInline(n.props.text),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,o.default.Component),r(t,[{key:"render",value:function(){var e=this;return o.default.createElement(i.AtlasContext.Consumer,null,function(t){return"entry"==t?e.entry():e.standalone()})}}]),t}();t.default=s},362:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AtlasContext=void 0;var r=function(e){return e&&e.__esModule?e:{default:e}}(n(2));t.AtlasContext=r.default.createContext("standalone")},371:function(e,t,n){"use strict";function r(e,t,n){n=n||{};var r=e.ownerDocument,o=r.defaultView.CustomEvent;"function"==typeof o?o=new o(t,{detail:n}):((o=r.createEvent("Event")).initEvent(t,!1,!1),o.detail=n),e.dispatchEvent(o)}function o(e){return Array.isArray(e)||e instanceof Int8Array||e instanceof Int16Array||e instanceof Int32Array||e instanceof Uint8Array||e instanceof Uint8ClampedArray||e instanceof Uint16Array||e instanceof Uint32Array||e instanceof Float32Array||e instanceof Float64Array}function i(e){return e===(0|e)+""}n.r(t),n.d(t,"Inspector",function(){return G}),n.d(t,"Library",function(){return Ae}),n.d(t,"Runtime",function(){return nt}),n.d(t,"RuntimeError",function(){return Re});const a=Symbol.prototype.toString;function u(e){return a.call(e)}const{getOwnPropertySymbols:s,prototype:{hasOwnProperty:l}}=Object,{toStringTag:c}=Symbol,d={},f=s;function p(e,t){return l.call(e,t)}function h(e){return e[c]||e.constructor&&e.constructor.name||"Object"}function m(e,t){try{const n=e[t];return n&&n.constructor,n}catch(e){return d}}function v(e){const t=o(e);let n,i,a;e instanceof Map?(n=`Map(${e.size})`,i=b):e instanceof Set?(n=`Set(${e.size})`,i=w):t?(n=`${e.constructor.name}(${e.length})`,i=_):(n=h(e),i=g);const u=document.createElement("span");u.className="observablehq--expanded";const s=u.appendChild(document.createElement("a"));s.innerHTML="<svg width=8 height=8 class='observablehq--caret'>\n    <path d='M4 7L0 1h8z' fill='currentColor' />\n  </svg>",s.appendChild(document.createTextNode(`${n}${t?" [":" {"}`)),s.addEventListener("mouseup",function(t){t.stopPropagation(),B(u,C(e))}),i=i(e);for(let e=0;!(a=i.next()).done&&e<20;++e)u.appendChild(a.value);if(!a.done){const e=u.appendChild(document.createElement("a"));e.className="observablehq--field",e.style.display="block",e.appendChild(document.createTextNode("  … more")),e.addEventListener("mouseup",function(e){e.stopPropagation(),u.insertBefore(a.value,u.lastChild.previousSibling);for(let e=0;!(a=i.next()).done&&e<19;++e)u.insertBefore(a.value,u.lastChild.previousSibling);a.done&&u.removeChild(u.lastChild.previousSibling),r(u,"load")})}return u.appendChild(document.createTextNode(t?"]":"}")),u}function*b(e){for(const[t,n]of e)yield E(t,n);yield*g(e)}function*w(e){for(const t of e)yield x(t);yield*g(e)}function*_(e){for(let t=0,n=e.length;t<n;++t)t in e&&(yield y(t,m(e,t),"observablehq--index"));for(const t in e)!i(t)&&p(e,t)&&(yield y(t,m(e,t),"observablehq--key"));for(const t of f(e))yield y(u(t),m(e,t),"observablehq--symbol")}function*g(e){for(const t in e)p(e,t)&&(yield y(t,m(e,t),"observablehq--key"));for(const t of f(e))yield y(u(t),m(e,t),"observablehq--symbol")}function y(e,t,n){const r=document.createElement("div"),o=r.appendChild(document.createElement("span"));return r.className="observablehq--field",o.className=n,o.textContent=`  ${e}`,r.appendChild(document.createTextNode(": ")),r.appendChild(U(t)),r}function E(e,t){const n=document.createElement("div");return n.className="observablehq--field",n.appendChild(document.createTextNode("  ")),n.appendChild(U(e)),n.appendChild(document.createTextNode(" => ")),n.appendChild(U(t)),n}function x(e){const t=document.createElement("div");return t.className="observablehq--field",t.appendChild(document.createTextNode("  ")),t.appendChild(U(e)),t}function C(e,t){const n=o(e);let r,i,a;if(e instanceof Map?(r=`Map(${e.size})`,i=S):e instanceof Set?(r=`Set(${e.size})`,i=P):n?(r=`${e.constructor.name}(${e.length})`,i=j):(r=h(e),i=M),t){const t=document.createElement("span");return t.className="observablehq--shallow",t.appendChild(document.createTextNode(r)),t.addEventListener("mouseup",function(n){n.stopPropagation(),B(t,C(e))}),t}const u=document.createElement("span");u.className="observablehq--collapsed";const s=u.appendChild(document.createElement("a"));s.innerHTML="<svg width=8 height=8 class='observablehq--caret'>\n    <path d='M7 4L1 8V0z' fill='currentColor' />\n  </svg>",s.appendChild(document.createTextNode(`${r}${n?" [":" {"}`)),u.addEventListener("mouseup",function(t){t.stopPropagation(),B(u,v(e))},!0),i=i(e);for(let e=0;!(a=i.next()).done&&e<20;++e)e>0&&u.appendChild(document.createTextNode(", ")),u.appendChild(a.value);return a.done||u.appendChild(document.createTextNode(", …")),u.appendChild(document.createTextNode(n?"]":"}")),u}function*S(e){for(const[t,n]of e)yield N(t,n);yield*M(e)}function*P(e){for(const t of e)yield U(t,!0);yield*M(e)}function*j(e){for(let t=-1,n=0,r=e.length;n<r;++n)if(n in e){let r=n-t-1;if(r>0){const e=document.createElement("span");e.className="observablehq--empty",e.textContent=1===r?"empty":`empty × ${n-t-1}`,yield e}yield U(m(e,n),!0),t=n}for(const t in e)!i(t)&&p(e,t)&&(yield O(t,m(e,t),"observablehq--key"));for(const t of f(e))yield O(u(t),m(e,t),"observablehq--symbol")}function*M(e){for(const t in e)p(e,t)&&(yield O(t,m(e,t),"observablehq--key"));for(const t of f(e))yield O(u(t),m(e,t),"observablehq--symbol")}function O(e,t,n){const r=document.createDocumentFragment(),o=r.appendChild(document.createElement("span"));return o.className=n,o.textContent=e,r.appendChild(document.createTextNode(": ")),r.appendChild(U(t,!0)),r}function N(e,t){const n=document.createDocumentFragment();return n.appendChild(U(e,!0)),n.appendChild(document.createTextNode(" => ")),n.appendChild(U(t,!0)),n}function k(e,t){var n=e+"",r=n.length;return r<t?new Array(t-r+1).join(0)+n:n}var q=Error.prototype.toString,L=RegExp.prototype.toString;function T(e){var t=e.charCodeAt(0);return t<16?"\\x0"+t.toString(16):t<32?"\\x"+t.toString(16):"\\"+e}function A(e,t){for(var n=0;t.exec(e);)++n;return n}var R=Function.prototype.toString,$={prefix:"async ƒ"},z={prefix:"async ƒ*"},D={prefix:"class"},H={prefix:"ƒ"},I={prefix:"ƒ*"};function W(e,t){var n=document.createElement("span");n.className="observablehq--function";var r=n.appendChild(document.createElement("span"));return r.className="observablehq--keyword",r.textContent=e.prefix,n.appendChild(document.createTextNode(" "+t)),n}const{prototype:{toString:F}}=Object;function U(e,t,n){let r=typeof e;switch(r){case"boolean":case"undefined":e+="";break;case"number":e=0===e&&1/e<0?"-0":e+"";break;case"bigint":e+="n";break;case"string":e=function(e,t){return t?(A(e,/["\n]/g)<=A(e,/`|\${/g)?JSON.stringify:function(e){return"`"+e.replace(/[\\`\x00-\x09\x0b-\x19]|\${/g,T)+"`"})(e):(e.length>100&&(e=`${e.slice(0,50)}…${e.slice(-49)}`),JSON.stringify(e))}(e,!1===t);break;case"symbol":e=u(e);break;case"function":return function(e){var t,n,r=R.call(e);switch(e.constructor&&e.constructor.name){case"AsyncFunction":t=$;break;case"AsyncGeneratorFunction":t=z;break;case"GeneratorFunction":t=I;break;default:t=/^class\b/.test(r)?D:H}return t===D?W(t,e.name||""):(n=/^(?:async\s*)?(\w+)\s*=>/.exec(r))?W(t,"("+n[1]+")"):(n=/^(?:async\s*)?\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(r))?W(t,n[1]?"("+n[1].replace(/\s*,\s*/g,", ")+")":"()"):(n=/^(?:async\s*)?function(?:\s*\*)?(?:\s*\w+)?\s*\(\s*(\w+(?:\s*,\s*\w+)*)?\s*\)/.exec(r))?W(t,(e.name||"")+(n[1]?"("+n[1].replace(/\s*,\s*/g,", ")+")":"()")):W(t,(e.name||"")+"(…)")}(e);default:if(null===e){r=null,e="null";break}if(e instanceof Date){r="date",e=function(e){return isNaN(e)?"Invalid Date":k(e.getFullYear(),4)+"-"+k(e.getMonth()+1,2)+"-"+k(e.getDate(),2)+(e.getMilliseconds()?"T"+k(e.getHours(),2)+":"+k(e.getMinutes(),2)+":"+k(e.getSeconds(),2)+"."+k(e.getMilliseconds(),3):e.getSeconds()?"T"+k(e.getHours(),2)+":"+k(e.getMinutes(),2)+":"+k(e.getSeconds(),2):e.getMinutes()||e.getHours()?"T"+k(e.getHours(),2)+":"+k(e.getMinutes(),2):"")}(e);break}if(e===d){r="forbidden",e="[forbidden]";break}switch(F.call(e)){case"[object RegExp]":r="regexp",e=function(e){return L.call(e)}(e);break;case"[object Error]":case"[object DOMException]":r="error",e=function(e){return e.stack||q.call(e)}(e);break;default:return(n?v:C)(e,t)}}const o=document.createElement("span");return o.className=`observablehq--${r}`,o.textContent=e,o}function B(e,t){e.classList.contains("observablehq--inspect")&&t.classList.add("observablehq--inspect"),e.parentNode.replaceChild(t,e),r(t,"load")}const V=/\s+\(\d+:\d+\)$/m;class G{constructor(e){if(!e)throw new Error("invalid node");this._node=e,e.classList.add("observablehq")}pending(){const{_node:e}=this;e.classList.remove("observablehq--error"),e.classList.add("observablehq--running")}fulfilled(e){const{_node:t}=this;if((!(e instanceof Element||e instanceof Text)||e.parentNode&&e.parentNode!==t)&&(e=U(e,!1,t.firstChild&&t.firstChild.classList&&t.firstChild.classList.contains("observablehq--expanded"))).classList.add("observablehq--inspect"),t.classList.remove("observablehq--running","observablehq--error"),t.firstChild!==e)if(t.firstChild){for(;t.lastChild!==t.firstChild;)t.removeChild(t.lastChild);t.replaceChild(e,t.firstChild)}else t.appendChild(e);r(t,"update")}rejected(e){const{_node:t}=this;for(t.classList.remove("observablehq--running"),t.classList.add("observablehq--error");t.lastChild;)t.removeChild(t.lastChild);var n=document.createElement("span");n.className="observablehq--inspect",n.textContent=(e+"").replace(V,""),t.appendChild(n),r(t,"error",{error:e})}}function J(e){return function(){return e}}G.into=function(e){if("string"==typeof e&&null==(e=document.querySelector(e)))throw new Error("container not found");return function(){return new G(e.appendChild(document.createElement("div")))}};var Q={math:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},X=0;function Y(e){this.id=e,this.href=window.location.href+"#"+e}Y.prototype.toString=function(){return"url("+this.href+")"};var K={canvas:function(e,t){var n=document.createElement("canvas");return n.width=e,n.height=t,n},context2d:function(e,t,n){null==n&&(n=devicePixelRatio);var r=document.createElement("canvas");r.width=e*n,r.height=t*n,r.style.width=e+"px";var o=r.getContext("2d");return o.scale(n,n),o},download:function(e,t,n){var r=document.createElement("a");return r.appendChild(document.createElement("button")).textContent=null==n?"Download":n,r.download=null==t?"untitled":t,r.onclick=function(){var t=r.href=URL.createObjectURL(e);setTimeout(function(){URL.revokeObjectURL(t)},50)},r},element:function(e,t){var n,r=e+="",o=r.indexOf(":");o>=0&&"xmlns"!==(r=e.slice(0,o))&&(e=e.slice(o+1));var i=Q.hasOwnProperty(r)?document.createElementNS(Q[r],e):document.createElement(e);if(t)for(var a in t)o=(r=a).indexOf(":"),n=t[a],o>=0&&"xmlns"!==(r=a.slice(0,o))&&(a=a.slice(o+1)),Q.hasOwnProperty(r)?i.setAttributeNS(Q[r],a,n):i.setAttribute(a,n);return i},input:function(e){var t=document.createElement("input");return null!=e&&(t.type=e),t},range:function(e,t,n){1===arguments.length&&(t=e,e=null);var r=document.createElement("input");return r.min=e=null==e?0:+e,r.max=t=null==t?1:+t,r.step=null==n?"any":n=+n,r.type="range",r},select:function(e){var t=document.createElement("select");return Array.prototype.forEach.call(e,function(e){var n=document.createElement("option");n.value=n.textContent=e,t.appendChild(n)}),t},svg:function(e,t){var n=document.createElementNS("http://www.w3.org/2000/svg","svg");return n.setAttribute("viewBox",[0,0,e,t]),n.setAttribute("width",e),n.setAttribute("height",t),n},text:function(e){return document.createTextNode(e)},uid:function(e){return new Y("O-"+(null==e?"":e+"-")+ ++X)}},Z={buffer:function(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsArrayBuffer(e)})},text:function(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsText(e)})},url:function(e){return new Promise(function(t,n){var r=new FileReader;r.onload=function(){t(r.result)},r.onerror=n,r.readAsDataURL(e)})}};function ee(){return this}function te(e,t){let n=!1;return{[Symbol.iterator]:ee,next:()=>n?{done:!0}:(n=!0,{done:!1,value:e}),return:()=>(n=!0,t(e),{done:!0}),throw:()=>({done:n=!0})}}function ne(e){let t,n,r=!1;const o=e(function(e){return n?(n(e),n=null):r=!0,t=e});return{[Symbol.iterator]:ee,throw:()=>({done:!0}),return:()=>(null!=o&&o(),{done:!0}),next:function(){return{done:!1,value:r?(r=!1,Promise.resolve(t)):new Promise(e=>n=e)}}}}function re(e){switch(e.type){case"range":case"number":return e.valueAsNumber;case"date":return e.valueAsDate;case"checkbox":return e.checked;case"file":return e.multiple?e.files:e.files[0];default:return e.value}}var oe={disposable:te,filter:function*(e,t){for(var n,r=-1;!(n=e.next()).done;)t(n.value,++r)&&(yield n.value)},input:function(e){return ne(function(t){var n=function(e){switch(e.type){case"button":case"submit":case"checkbox":return"click";case"file":return"change";default:return"input"}}(e),r=re(e);function o(){t(re(e))}return e.addEventListener(n,o),void 0!==r&&t(r),function(){e.removeEventListener(n,o)}})},map:function*(e,t){for(var n,r=-1;!(n=e.next()).done;)yield t(n.value,++r)},observe:ne,queue:function(e){let t;const n=[],r=e(function(e){return n.push(e),t&&(t(n.shift()),t=null),e});return{[Symbol.iterator]:ee,throw:()=>({done:!0}),return:()=>(null!=r&&r(),{done:!0}),next:function(){return{done:!1,value:n.length?Promise.resolve(n.shift()):new Promise(e=>t=e)}}}},range:function*(e,t,n){e=+e,t=+t,n=(o=arguments.length)<2?(t=e,e=0,1):o<3?1:+n;for(var r=-1,o=0|Math.max(0,Math.ceil((t-e)/n));++r<o;)yield e+r*n},valueAt:function(e,t){if(!(!isFinite(t=+t)||t<0||t!=t|0))for(var n,r=-1;!(n=e.next()).done;)if(++r===t)return n.value},worker:function(e){const t=URL.createObjectURL(new Blob([e],{type:"text/javascript"})),n=new Worker(t);return te(n,()=>{n.terminate(),URL.revokeObjectURL(t)})}};function ie(e,t){return function(n){var r,o,i,a,u,s,l,c,d=n[0],f=[],p=null,h=-1;for(u=1,s=arguments.length;u<s;++u){if((r=arguments[u])instanceof Node)f[++h]=r,d+="\x3c!--o:"+h+"--\x3e";else if(Array.isArray(r)){for(l=0,c=r.length;l<c;++l)(o=r[l])instanceof Node?(null===p&&(f[++h]=p=document.createDocumentFragment(),d+="\x3c!--o:"+h+"--\x3e"),p.appendChild(o)):(p=null,d+=o);p=null}else d+=r;d+=n[u]}if(p=e(d),++h>0){for(i=new Array(h),a=document.createTreeWalker(p,NodeFilter.SHOW_COMMENT,null,!1);a.nextNode();)o=a.currentNode,/^o:/.test(o.nodeValue)&&(i[+o.nodeValue.slice(2)]=o);for(u=0;u<h;++u)(o=i[u])&&o.parentNode.replaceChild(f[u],o)}return 1===p.childNodes.length?p.removeChild(p.firstChild):11===p.nodeType?((o=t()).appendChild(p),o):p}}var ae=ie(function(e){var t=document.createElement("template");return t.innerHTML=e.trim(),document.importNode(t.content,!0)},function(){return document.createElement("div")});function ue(e){let t;Object.defineProperties(this,{generator:{value:ne(e=>void(t=e))},value:{get:()=>e,set:n=>t(e=n)}}),void 0!==e&&t(e)}function*se(){for(;;)yield Date.now()}var le=new Map;function ce(e,t){var n;return(n=le.get(e=+e))?n.then(J(t)):(n=Date.now())>=e?Promise.resolve(t):function(e,t){var n=new Promise(function(n){le.delete(t);var r=t-e;if(!(r>0))throw new Error("invalid time");if(r>2147483647)throw new Error("too long to wait");setTimeout(n,r)});return le.set(t,n),n}(n,e).then(J(t))}var de={delay:function(e,t){return new Promise(function(n){setTimeout(function(){n(t)},e)})},tick:function(e,t){return ce(Math.ceil((Date.now()+1)/e)*e,t)},when:ce};function fe(e,t){if(/^(\w+:)|\/\//i.test(e))return e;if(/^[.]{0,2}\//i.test(e))return new URL(e,null==t?location:t).href;if(!e.length||/^[\s._]/.test(e)||/\s$/.test(e))throw new Error("illegal name");return"https://unpkg.com/"+e}const pe=new Map,he=new Map,me=[],ve=me.map,be=me.some,we=me.hasOwnProperty,_e="https://unpkg.com/",ge=/^((?:@[^/@]+\/)?[^/@]+)(?:@([^/]+))?(?:\/(.*))?$/;function ye(e){return"string"==typeof e?e:""}function Ee(e){const t=ge.exec(e);return t&&{name:t[1],version:t[2],path:t[3]}}function xe(e){const t=`${_e}${e.name}${e.version?`@${e.version}`:""}/package.json`;let n=pe.get(t);return n||pe.set(t,n=fetch(t).then(e=>{if(!e.ok)throw new Error("unable to load package.json");return e.redirected&&!pe.has(e.url)&&pe.set(e.url,n),e.json()})),n}const Ce=Se(async function(e,t){if(e.startsWith(_e)&&(e=e.substring(_e.length)),/^(\w+:)|\/\//i.test(e))return e;if(/^[.]{0,2}\//i.test(e))return new URL(e,null==t?location:t).href;if(!e.length||/^[\s._]/.test(e)||/\s$/.test(e))throw new Error("illegal name");const n=Ee(e);if(!n)return`${_e}${e}`;if(!n.version&&null!=t&&t.startsWith(_e)){const e=await xe(Ee(t.substring(_e.length)));n.version=e.dependencies&&e.dependencies[n.name]||e.peerDependencies&&e.peerDependencies[n.name]}const r=await xe(n);return`${_e}${r.name}@${r.version}/${n.path||ye(r.unpkg)||ye(r.browser)||ye(r.main)||"index.js"}`});function Se(e){const t=r(null);function n(e){if("string"!=typeof e)return e;let t=he.get(e);return t||he.set(e,t=new Promise((t,n)=>{const o=document.createElement("script");o.onload=(()=>{try{t(me.pop()(r(e)))}catch(e){n(new Error("invalid module"))}o.remove()}),o.onerror=(()=>{n(new Error("unable to load module")),o.remove()}),o.async=!0,o.src=e,window.define=Oe,document.head.appendChild(o)})),t}function r(t){return r=>Promise.resolve(e(r,t)).then(n)}function o(e){return arguments.length>1?Promise.all(ve.call(arguments,t)).then(Pe):t(e)}return o.alias=function(t){return Se((n,r)=>n in t&&(r=null,"string"!=typeof(n=t[n]))?n:e(n,r))},o.resolve=e,o}function Pe(e){const t={};for(const n of e)for(const e in n)we.call(n,e)&&(null==n[e]?Object.defineProperty(t,e,{get:je(n,e)}):t[e]=n[e]);return t}function je(e,t){return()=>e[t]}function Me(e){return e+""=="exports"}function Oe(e,t,n){const r=arguments.length;r<2?(n=e,t=[]):r<3&&(n=t,t="string"==typeof e?[]:e),me.push(be.call(t,Me)?e=>{const r={};return Promise.all(ve.call(t,t=>Me(t+="")?r:e(t))).then(e=>(n.apply(null,e),r))}:e=>Promise.all(ve.call(t,e)).then(e=>"function"==typeof n?n.apply(null,e):n))}Oe.amd={};var Ne=ie(function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","g");return t.innerHTML=e.trim(),t},function(){return document.createElementNS("http://www.w3.org/2000/svg","g")}),ke=String.raw;function qe(e){return new Promise(function(t,n){var r=document.createElement("link");r.rel="stylesheet",r.href=e,r.onerror=n,r.onload=t,document.head.appendChild(r)})}var Le=28;function Te(){return ne(function(e){var t=e(window.innerWidth-Le);function n(){var n=window.innerWidth-Le;n!==t&&e(t=n)}return window.addEventListener("resize",n),function(){window.removeEventListener("resize",n)}})}function Ae(e){const t=function(e){return null==e?Ce:Se(e)}(e);Object.defineProperties(this,{DOM:{value:K,enumerable:!0},Files:{value:Z,enumerable:!0},Generators:{value:oe,enumerable:!0},html:{value:J(ae),enumerable:!0},md:{value:function(e){return function(){return e("marked@0.3.12/marked.min.js").then(function(t){return ie(function(n){var r=document.createElement("div");r.innerHTML=t(n,{langPrefix:""}).trim();var o=r.querySelectorAll("pre code[class]");return o.length>0&&e("@observablehq/highlight.js@1.0.0/highlight.min.js").then(function(e){o.forEach(e.highlightBlock)}),r},function(){return document.createElement("div")})})}}(t),enumerable:!0},Mutable:{value:J(ue),enumerable:!0},now:{value:se,enumerable:!0},Promises:{value:de,enumerable:!0},require:{value:J(t),enumerable:!0},resolve:{value:J(fe),enumerable:!0},svg:{value:J(Ne),enumerable:!0},tex:{value:function(e){return function(){return Promise.all([e("@observablehq/katex@0.10.1/dist/katex.min.js"),e.resolve("@observablehq/katex@0.10.1/dist/katex.min.css").then(qe)]).then(function(e){var t=e[0],n=r();function r(e){return function(){var n=document.createElement("div");return t.render(ke.apply(String,arguments),n,e),n.removeChild(n.firstChild)}}return n.block=r({displayMode:!0}),n})}}(t),enumerable:!0},width:{value:Te,enumerable:!0}})}function Re(e,t){this.message=e+"",this.input=t}Re.prototype=Object.create(Error.prototype),Re.prototype.name="RuntimeError",Re.prototype.constructor=Re;var $e=Array.prototype,ze=$e.map,De=$e.forEach,He=function(e){return e},Ie=function(){},We=2,Fe=3,Ue={};function Be(e,t,n){var r;null==n&&(n=Ue),Object.defineProperties(this,{_observer:{value:n,writable:!0},_definition:{value:Je,writable:!0},_duplicate:{value:void 0,writable:!0},_duplicates:{value:void 0,writable:!0},_indegree:{value:-1,writable:!0},_inputs:{value:[],writable:!0},_invalidate:{value:Ie,writable:!0},_module:{value:t},_name:{value:null,writable:!0},_outputs:{value:new Set,writable:!0},_promise:{value:Promise.resolve(void 0),writable:!0},_reachable:{value:n!==Ue,writable:!0},_rejector:{value:(r=this,function(e){if(e===Je)throw new Re(r._name+" is not defined",r._name);throw new Re(r._name+" could not be resolved",r._name)})},_type:{value:e},_value:{value:void 0,writable:!0},_version:{value:0,writable:!0}})}function Ve(e){e._module._runtime._dirty.add(e),e._outputs.add(this)}function Ge(e){e._module._runtime._dirty.add(e),e._outputs.delete(this)}function Je(){throw Je}function Qe(e){return function(){throw new Re(e+" is defined more than once")}}function Xe(e,t,n){var r=this._module._scope,o=this._module._runtime;if(this._inputs.forEach(Ge,this),t.forEach(Ve,this),this._inputs=t,this._definition=n,this._value=void 0,e==this._name&&r.get(e)===this)this._outputs.forEach(o._updates.add,o._updates);else{var i,a;if(this._name)if(this._outputs.size)r.delete(this._name),(a=this._module._resolve(this._name))._outputs=this._outputs,this._outputs=new Set,a._outputs.forEach(function(e){e._inputs[e._inputs.indexOf(this)]=a},this),a._outputs.forEach(o._updates.add,o._updates),o._dirty.add(a).add(this),r.set(this._name,a);else if((a=r.get(this._name))===this)r.delete(this._name);else{if(a._type!==Fe)throw new Error;a._duplicates.delete(this),this._duplicate=void 0,1===a._duplicates.size&&(a=a._duplicates.keys().next().value,i=r.get(this._name),a._outputs=i._outputs,i._outputs=new Set,a._outputs.forEach(function(e){e._inputs[e._inputs.indexOf(i)]=a}),a._definition=a._duplicate,a._duplicate=void 0,o._dirty.add(i).add(a),o._updates.add(a),r.set(this._name,a))}if(this._outputs.size)throw new Error;e&&((a=r.get(e))?a._type===Fe?(this._definition=Qe(e),this._duplicate=n,a._duplicates.add(this)):a._type===We?(this._outputs=a._outputs,a._outputs=new Set,this._outputs.forEach(function(e){e._inputs[e._inputs.indexOf(a)]=this},this),o._dirty.add(a).add(this),r.set(e,this)):(a._duplicate=a._definition,this._duplicate=n,(i=new Be(Fe,this._module))._name=e,i._definition=this._definition=a._definition=Qe(e),i._outputs=a._outputs,a._outputs=new Set,i._outputs.forEach(function(e){e._inputs[e._inputs.indexOf(a)]=i}),i._duplicates=new Set([this,a]),o._dirty.add(a).add(i),o._updates.add(a).add(i),r.set(e,i)):r.set(e,this)),this._name=e}return o._updates.add(this),o._compute(),this}Object.defineProperties(Be.prototype,{_pending:{value:function(){this._observer.pending&&this._observer.pending()},writable:!0,configurable:!0},_fulfilled:{value:function(e){this._observer.fulfilled&&this._observer.fulfilled(e)},writable:!0,configurable:!0},_rejected:{value:function(e){this._observer.rejected&&this._observer.rejected(e)},writable:!0,configurable:!0},define:{value:function(e,t,n){switch(arguments.length){case 1:n=e,e=t=null;break;case 2:n=t,"string"==typeof e?t=null:(t=e,e=null)}return Xe.call(this,null==e?null:e+"",null==t?[]:ze.call(t,this._module._resolve,this._module),"function"==typeof n?n:function(e){return function(){return e}}(n))},writable:!0,configurable:!0},delete:{value:function(){return Xe.call(this,null,[],Ie)},writable:!0,configurable:!0},import:{value:function(e,t,n){return arguments.length<3&&(n=t,t=e),Xe.call(this,t+"",[n._resolve(e+"")],He)},writable:!0,configurable:!0}});var Ye=new Map;function Ke(e){Object.defineProperties(this,{_runtime:{value:e},_scope:{value:new Map}})}function Ze(e){return e._name}Object.defineProperties(Ke.prototype,{_copy:{value:function(e,t,n){var r=new Ke(this._runtime);return n.set(this,r),this._scope.forEach(function(o,i){var a,u=new Be(o._type,r);if(a=e.get(i))u.import(a.name,a.alias,t);else if(o._definition===He){var s=o._inputs[0],l=s._module,c=n.get(l)||l._copy(Ye,null,n);u.import(s._name,i,c)}else u.define(i,o._inputs.map(Ze),o._definition)}),r},writable:!0,configurable:!0},_resolve:{value:function(e){var t=this._scope.get(e);return t||(t=new Be(We,this),this._runtime._builtin._scope.has(e)?t.import(e,this._runtime._builtin):"invalidation"===e?t.define(e,et):"visibility"===e?t.define(e,tt):this._scope.set(t._name=e,t)),t},writable:!0,configurable:!0},define:{value:function(){var e=new Be(1,this);return e.define.apply(e,arguments)},writable:!0,configurable:!0},derive:{value:function(e,t){var n=new Map;return De.call(e,function(e){"object"!=typeof e&&(e={name:e+""}),null==e.alias&&(e.alias=e.name),n.set(e.alias,e)}),this._copy(n,t,new Map)},writable:!0,configurable:!0},import:{value:function(){var e=new Be(1,this);return e.import.apply(e,arguments)},writable:!0,configurable:!0},variable:{value:function(e){return new Be(1,this,e)},writable:!0,configurable:!0}});var et={},tt={};function nt(e){var t=this.module();if(Object.defineProperties(this,{_dirty:{value:new Set},_updates:{value:new Set},_computing:{value:null,writable:!0},_builtin:{value:t}}),e)for(var n in e)new Be(We,t).define(n,[],e[n])}function rt(e){++e._indegree}function ot(e){return e._promise.catch(e._rejector)}function it(e){return new Promise(function(t){e._invalidate=t})}function at(e,t){let n,r,o="function"==typeof IntersectionObserver&&t._observer&&t._observer._node,i=!o,a=Ie,u=Ie;return o&&((r=new IntersectionObserver(([e])=>(i=e.isIntersecting)&&(n=null,a()))).observe(o),e.then(()=>(r.disconnect(),r=null,u()))),function(e){return i?Promise.resolve(e):r?(n||(n=new Promise((e,t)=>(a=e,u=t))),n.then(()=>e)):Promise.reject()}}function ut(e){e._invalidate(),e._invalidate=Ie,e._pending();var t=e._value,n=++e._version,r=null,o=e._promise=Promise.all(e._inputs.map(ot)).then(function(o){if(e._version===n){for(var i=0,a=o.length;i<a;++i)switch(o[i]){case et:o[i]=r=it(e);break;case tt:r||(r=it(e)),o[i]=at(r,e)}return e._definition.apply(t,o)}}).then(function(t){return function(e){return e&&"function"==typeof e.next&&"function"==typeof e.return}(t)?((r||it(e)).then((i=t,function(){i.return()})),function(e,t,n,r){function o(){var n=new Promise(function(e){e(r.next())}).then(function(r){return r.done?void 0:Promise.resolve(r.value).then(function(r){if(e._version===t)return st(e,r,n).then(o),e._fulfilled(r),r})});n.catch(function(r){e._version===t&&(st(e,void 0,n),e._rejected(r))})}return new Promise(function(e){e(r.next())}).then(function(e){if(!e.done)return n.then(o),e.value})}(e,n,o,t)):t;var i});o.then(function(t){e._version===n&&(e._value=t,e._fulfilled(t))},function(t){e._version===n&&(e._value=void 0,e._rejected(t))})}function st(e,t,n){var r=e._module._runtime;return e._value=t,e._promise=n,e._outputs.forEach(r._updates.add,r._updates),r._compute()}Object.defineProperties(nt,{load:{value:function(e,t,n){if("function"==typeof t&&(n=t,t=null),"function"!=typeof n)throw new Error("invalid observer");null==t&&(t=new Ae);const{modules:r,id:o}=e,i=new Map,a=new nt(t),u=s(o);function s(e){let t=i.get(e);return t||i.set(e,t=a.module()),t}for(const e of r){const t=s(e.id);let r=0;for(const o of e.variables)o.from?t.import(o.remote,o.name,s(o.from)):t===u?t.variable(n(o,r,e.variables)).define(o.name,o.inputs,o.value):t.define(o.name,o.inputs,o.value),++r}return a},writable:!0,configurable:!0}}),Object.defineProperties(nt.prototype,{_compute:{value:function(){return this._computing||(this._computing=this._computeSoon())},writable:!0,configurable:!0},_computeSoon:{value:function(){var e=this;return new Promise(function(t){requestAnimationFrame(function(){t(),e._computeNow()})})},writable:!0,configurable:!0},_computeNow:{value:function(){var e,t,n=[];for((e=new Set(this._dirty)).forEach(function(t){t._inputs.forEach(e.add,e);const n=function(e){if(e._observer!==Ue)return!0;var t=new Set(e._outputs);for(const e of t){if(e._observer!==Ue)return!0;e._outputs.forEach(t.add,t)}return!1}(t);n>t._reachable?this._updates.add(t):n<t._reachable&&t._invalidate(),t._reachable=n},this),(e=new Set(this._updates)).forEach(function(t){t._reachable?(t._indegree=0,t._outputs.forEach(e.add,e)):(t._indegree=-1,e.delete(t))}),this._computing=null,this._updates.clear(),this._dirty.clear(),e.forEach(function(e){e._outputs.forEach(rt)}),e.forEach(function(e){0===e._indegree&&n.push(e)});t=n.pop();)ut(t),t._outputs.forEach(r),e.delete(t);function r(e){0==--e._indegree&&n.push(e)}e.forEach(function(e){var t=new Re("circular definition");e._value=void 0,(e._promise=Promise.reject(t)).catch(Ie),e._rejected(t)})},writable:!0,configurable:!0},module:{value:function(){return new Ke(this)},writable:!0,configurable:!0}})},402:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}([""],[""]),i=d(n(2)),a=n(371),u=d(n(498)),s=d(n(359)),l=d(n(360)),c=d(n(377));function d(e){return e&&e.__esModule?e:{default:e}}var f=s.default.div(o),p=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.resize=function(){n.width.value=(0,c.default)("#quantumBubbles").innerWidth()},n.caption="Quantum systems usually meander about in superposition, but measurement forces a quantum choice. Click and hold on the bubbles to simulate a measurement. Watch how the system first focuses to a point and then spreads out once you release.",n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default.Component),r(t,[{key:"componentDidMount",value:function(){var e=this;a.Runtime.load(u.default,function(t){return"quantumBubbles"===t.name?new a.Inspector(document.getElementById("quantumBubbles")):"mutable w"!==t.name||{fulfilled:function(t){e.width=t,e.width.value=(0,c.default)("#quantumBubbles").innerWidth()}}}),window.addEventListener("resize",this.resize)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.resize)}},{key:"render",value:function(){return i.default.createElement("div",{className:"w-100"},i.default.createElement(f,null,i.default.createElement("div",{id:"quantumBubbles",className:"w-100"})),i.default.createElement(l.default,{text:this.caption}))}}]),t}();t.default=p},498:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(["# QuantumBubbles"],["# QuantumBubbles"]),o=i(["<button>","</button>"],["<button>","</button>"]);function i(e,t){return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var a={id:"33900b63faa6418e@339",modules:[{id:"33900b63faa6418e@339",variables:[{inputs:["md"],value:function(e){return e(r)}},{name:"quantumBubbles",inputs:["THREE","w","h","camera","cameraScale","paused","updateScene","scene"],value:regeneratorRuntime.mark(function e(t,n,r,o,i,a,u,s){var l;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:(l=new t.WebGLRenderer({alpha:!0,antialias:!0})).setClearColor(19840,1),l.setSize(n,r),o.left=-n/i,o.right=n/i,o.top=r/i,o.bottom=-r/i,o.updateProjectionMatrix(),e.prev=8;case 9:return a||u(),l.render(s,o),e.next=14,l.domElement;case 14:e.next=9;break;case 16:return e.prev=16,l.dispose(),e.finish(16);case 19:case"end":return e.stop()}},e,this,[[8,,16,19]])})},{inputs:["html","paused","mutable paused"],value:function(e,t,n){var r=e(o,t?"Unpause":"Pause");return r.onclick=function(){n.value=!t},r}},{name:"initial paused",value:function(){return!1}},{name:"mutable paused",inputs:["Mutable","initial paused"],value:function(e,t){return new e(t)}},{name:"paused",inputs:["mutable paused"],value:function(e){return e.generator}},{name:"movingSphere",inputs:["THREE","randomColor","getRand","h","cameraScale","w"],value:function(e,t,n,r,o,i){return function(){var a=new e.SphereGeometry(.5,32,32),u=new e.MeshLambertMaterial({color:t({hue:"blue"}),opacity:.75,blending:e.NormalBlending,depthWrite:!1});u.transparent=!0;var s={scalePhase:n(0,2*Math.PI),scaleRate:n(.5,1),target:!1,targetDistance:0,vz:n(-.01,.01),vy:n(-.01,.01),sphere:new e.Mesh(a,u)};return s.sphere.position.set(n(-.1,.1),n(-r/o,r/o),n(-i/o,i/o)),s}}},{name:"initial numSpheres",value:function(){return 50}},{name:"mutable numSpheres",inputs:["Mutable","initial numSpheres"],value:function(e,t){return new e(t)}},{name:"numSpheres",inputs:["mutable numSpheres"],value:function(e){return e.generator}},{name:"spheres",inputs:["numSpheres","movingSphere"],value:function(e,t){return[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(Array(e))).map(t)}},{name:"lights",inputs:["THREE"],value:function(e){var t=new e.PointLight(16777215,1,0);t.castShadow=!0,t.position.set(0,20,0);var n=new e.PointLight(16777215,1,0);n.position.set(30,-10,0);var r=new e.PointLight(16777215,1,0);return r.position.set(-10,0,10),[t,n,r,new e.AmbientLight(4210752)]}},{name:"scene",inputs:["THREE","spheres","lights"],value:function(e,t,n){var r=new e.Scene;return t.forEach(function(e){r.add(e.sphere)}),n.forEach(function(e){r.add(e)}),r}},{name:"camera",inputs:["THREE","w","cameraScale","h","scene"],value:function(e,t,n,r,o){var i=new e.OrthographicCamera(-t/n,t/n,r/n,-r/n,0,100);return i.position.set(3,0,0),i.lookAt(o.position),i}},{name:"frustum",inputs:["THREE"],value:function(e){return new e.Frustum}},{name:"handlers",inputs:["quantumBubbles","mousedown","mouseup"],value:function(e,t,n){e.onmousedown=t,e.onmouseup=n,e.oncontextmenu=t,e.ontouchstart=t,e.ontouchend=n}},{name:"mousedown",inputs:["$","quantumBubbles","w","cameraScale","h","spheres"],value:function(e,t,n,r,o,i){return function(a){a.preventDefault();var u,s,l=e(t).offset(),c=l.left,d=l.top,f=e(window).scrollTop();"touchstart"!==a.type?(u=a.clientX,s=a.clientY):(u=a.changedTouches[0].clientX,s=a.changedTouches[0].clientY);var p=-(2*(u-c)-n)/r,h=-(2*(s-d+f)-o)/r;i.forEach(function(e){e.target=[0,h,p],e.targetDistance=0,e.vz=0,e.vy=0,e.sphere.material.depthWrite=!0})}}},{name:"mouseup",inputs:["spheres","getRand","h","cameraScale","w"],value:function(e,t,n,r,o){return function(i){i.preventDefault(),e.forEach(function(e){e.target=[t(-.1,.1),t(-n/r,n/r),t(-o/r,o/r)],e.targetDistance=.5,e.vz=t(-.01,.01),e.vy=t(-.01,.01),e.sphere.material.depthWrite=!1})}}},{name:"speed",value:function(){return 20}},{name:"updateScene",inputs:["camera","cameraViewProjectionMatrix","frustum","spheres","speed"],value:function(e,t,n,r,o){return function(){e.updateMatrixWorld(),e.matrixWorldInverse.getInverse(e.matrixWorld),t.multiplyMatrices(e.projectionMatrix,e.matrixWorldInverse),n.setFromMatrix(t),r.forEach(function(e){if(e.target){var t=.008*o,r=e.target[0]-e.sphere.position.x,i=e.target[1]-e.sphere.position.y,a=e.target[2]-e.sphere.position.z;Math.sqrt(a*a+i*i+r*r)>e.targetDistance?(e.sphere.position.z+=a*t,e.sphere.position.y+=i*t,e.sphere.position.x+=r*t):e.target=!1}else{var u=Date.now()*e.scaleRate*.001,s=.005*Math.sin(u+e.scalePhase);e.sphere.scale.x+=s,e.sphere.scale.y+=s,e.sphere.scale.z+=s,e.sphere.position.y+=e.vy,e.sphere.position.z+=e.vz}n.intersectsObject(e.sphere)||e.sphere.position.set(e.sphere.position.x,.999*-e.sphere.position.y,.999*-e.sphere.position.z)})}}},{name:"initial w",inputs:["$"],value:function(e){return e(document).outerWidth()}},{name:"mutable w",inputs:["Mutable","initial w"],value:function(e,t){return new e(t)}},{name:"w",inputs:["mutable w"],value:function(e){return e.generator}},{name:"h",value:function(){return 460}},{name:"cameraScale",value:function(){return 200}},{name:"THREE",inputs:["require"],value:function(e){return e("three")}},{name:"randomColor",inputs:["require"],value:function(e){return e("randomcolor")}},{name:"$",inputs:["require"],value:function(e){return e("jquery")}},{name:"getRand",value:function(){return function(e,t){return Math.random()*(t-e)+e}}},{name:"cameraViewProjectionMatrix",inputs:["THREE"],value:function(e){return new e.Matrix4}}]}]};t.default=a}}]);